import{u as m,c as i,a,t as p,b as g,w as n,v as l,o as u}from"./index.bc6eedd3.js";import{m as h}from"./md5.1623776e.js";const f={ref:"LoginPage",id:"LoginPage"},c={class:"login-Page"},w=a("h2",{class:"Title"},"Login",-1),S={key:0,class:"mb-2"},D={for:"email",class:"inp"},v=a("span",{class:"label"},"Email",-1),I=a("span",{class:"focus-bg"},null,-1),b={for:"password",class:"inp"},_=a("span",{class:"label"},"Password",-1),T=a("span",{class:"focus-bg"},null,-1),k={data(){return{formData:{email:"",password:""},errorMessage:""}},components:{},watch:{},computed:{},methods:{goToRegister(){this.$router.push("/Register")},login(){var s=this,e=h.exports(this.formData.password),o={passwordHash:e,userName:this.formData.email},t=r=>{s.handleSigninUser(r)},d=r=>{s.errorMessage="Details are Incorrect",setTimeout(()=>{s.errorMessage=""},5e3)};this.$AjaxPostLogin("Authentication/SignIn",o,t,d)},handleSigninUser(s){s.isClient?this.authStore.setClient_Id(s.id):(this.authStore.setEmp_Id(s.id),this.authStore.setIsEmployee(!0)),this.authStore.setIsAdmin(s.isAdmin),this.authStore.setIsInstructor(s.isInstructor),this.authStore.setJwtToken(s.apiToken),this.authStore.setName(s.fullName),localStorage.setItem("userData",JSON.stringify(s)),s.isAdmin?window.open("/Dashboard","_self"):this.$router.push("/Home")}},mounted(){}},y=Object.assign(k,{__name:"Login",setup(s){return m(),(e,o)=>(u(),i("div",null,[a("div",f,[a("div",c,[w,e.errorMessage?(u(),i("h3",S,p(e.errorMessage),1)):g("",!0),a("label",D,[n(a("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>e.formData.email=t),onInput:o[1]||(o[1]=t=>e.formData.email=t.target.value),type:"email",id:"email",placeholder:"\xA0"},null,544),[[l,e.formData.email]]),v,I]),a("label",b,[n(a("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>e.formData.password=t),onInput:o[3]||(o[3]=t=>e.formData.password=t.target.value),type:"password",id:"password",placeholder:"\xA0"},null,544),[[l,e.formData.password]]),_,T]),a("a",{class:"mt-1",href:"#",onClick:o[4]||(o[4]=(...t)=>e.goToRegister&&e.goToRegister(...t))},"I need an Account"),a("button",{onClick:o[5]||(o[5]=(...t)=>e.login&&e.login(...t)),class:"action-button Login-Btn"},"Login")])],512)]))}});export{y as default};
